<!--
 * This file is part of a plugin for Goobi - a Workflow tool for the support of mass digitization.
 *
 * Visit the websites for more information.
 *          - https://goobi.io
 *          - https://www.intranda.com
 *          - https://github.com/intranda/goobi
 *
 * This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free
 * Software Foundation; either version 2 of the License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 59
 * Temple Place, Suite 330, Boston, MA 02111-1307 USA
 *
 -->
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:o="http://omnifaces.org/ui"
	xmlns:of="http://omnifaces.org/functions"
	template="/uii/template/template_blank.html"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:intranda="http://xmlns.jcp.org/jsf/composite/composites"
	xmlns:jsf="http://xmlns.jcp.org/jsf">
	<ui:define name="content">
		<link
			rel="stylesheet"
			href="imageQA_Fullscreen.css" />
		<main>
			<!--  The actual riot tag that renders the images and handles the info.json cache -->
			<fullscreen></fullscreen>
			<h:form id="actions">
				<button style="display: none;" jsf:action="ImageQAPlugin"
					jsf:id="leave"></button>
			</h:form>
			<input type="hidden" id="persistenceId"
				value="#{AktuelleSchritteForm.myPlugin.title.concat('_fullscreen_').concat(AktuelleSchritteForm.myPlugin.process.id)}" />

		</main>
				
			<script src="#{HelperForm.applicationWebsiteUrl}/uii/template/js/static/reactiveX/rxjs.umd.min.js"></script>

        	<script
            	src="#{HelperForm.applicationWebsiteUrl}/uii/template/js/static/openseadragon/openseadragon.min.js"></script>

			<script src="#{request.contextPath}/resources/js/dist/imageView.min.js?v=#{HelperForm.buildVersion}"></script>


			<script src="#{HelperForm.applicationWebsiteUrl}uii/template/js/static/riot+compiler.min.js" type="text/javascript"></script>
			<script src="ImageQAPlugin_fullscreen.tag" type="riot/tag"></script>



			<script type="text/javascript">

				document.addEventListener('DOMContentLoaded', function() {
					let opts = {
						lang: '#{SpracheForm.locale.language}',
						useTiles: #{AktuelleSchritteForm.myPlugin.useTilesFullscreen},
						imageSizes: #{AktuelleSchritteForm.myPlugin.displaySizes},
						tileSizes: #{AktuelleSchritteForm.myPlugin.tileSize},
						allImages: '#{AktuelleSchritteForm.myPlugin.allImagesJSON}',
						shortcutPrefix: '#{LoginForm.myBenutzer.shortcutPrefix}',
						startImage: #{AktuelleSchritteForm.myPlugin.imageIndex},
						noShortcutPrefix: #{AktuelleSchritteForm.myPlugin.noShortcutPrefix},
						persistZoom: #{AktuelleSchritteForm.myPlugin.persistZoom},
					};
					riot.mount("fullscreen", opts);
				});

		</script>
	</ui:define>

</ui:composition>